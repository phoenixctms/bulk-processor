/*! sprintf.js | Copyright (c) 2007-2013 Alexandru Marasteanu <hello at alexei dot ro> | 3 clause BSD license */
(function(a){var e=function(){if(!e.cache.hasOwnProperty(arguments[0])){e.cache[arguments[0]]=e.parse(arguments[0])}return e.format.call(null,e.cache[arguments[0]],arguments)};e.format=function(o,n){var s=1,q=o.length,j="",t,f=[],l,h,m,g,p,r;for(l=0;l<q;l++){j=b(o[l]);if(j==="string"){f.push(o[l])}else{if(j==="array"){m=o[l];if(m[2]){t=n[s];for(h=0;h<m[2].length;h++){if(!t.hasOwnProperty(m[2][h])){throw (e('[sprintf] property "%s" does not exist',m[2][h]))}t=t[m[2][h]]}}else{if(m[1]){t=n[m[1]]}else{t=n[s++]}}if(/[^s]/.test(m[8])&&(b(t)!="number")){throw (e("[sprintf] expecting number but found %s",b(t)))}switch(m[8]){case"b":t=t.toString(2);break;case"c":t=String.fromCharCode(t);break;case"d":t=parseInt(t,10);break;case"e":t=m[7]?t.toExponential(m[7]):t.toExponential();break;case"f":t=m[7]?parseFloat(t).toFixed(m[7]):parseFloat(t);break;case"o":t=t.toString(8);break;case"s":t=((t=String(t))&&m[7]?t.substring(0,m[7]):t);break;case"u":t=t>>>0;break;case"x":t=t.toString(16);break;case"X":t=t.toString(16).toUpperCase();break}t=(/[def]/.test(m[8])&&m[3]&&t>=0?"+"+t:t);p=m[4]?m[4]=="0"?"0":m[4].charAt(1):" ";r=m[6]-String(t).length;g=m[6]?c(p,r):"";f.push(m[5]?t+g:g+t)}}}return f.join("")};e.cache={};e.parse=function(f){var i=f,j=[],l=[],k=0;while(i){if((j=/^[^\x25]+/.exec(i))!==null){l.push(j[0])}else{if((j=/^\x25{2}/.exec(i))!==null){l.push("%")}else{if((j=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(i))!==null){if(j[2]){k|=1;var m=[],h=j[2],g=[];if((g=/^([a-z_][a-z_\d]*)/i.exec(h))!==null){m.push(g[1]);while((h=h.substring(g[0].length))!==""){if((g=/^\.([a-z_][a-z_\d]*)/i.exec(h))!==null){m.push(g[1])}else{if((g=/^\[(\d+)\]/.exec(h))!==null){m.push(g[1])}else{throw ("[sprintf] huh?")}}}}else{throw ("[sprintf] huh?")}j[2]=m}else{k|=2}if(k===3){throw ("[sprintf] mixing positional and named placeholders is not (yet) supported")}l.push(j)}else{throw ("[sprintf] huh?")}}}i=i.substring(j[0].length)}return l};var d=function(g,f,h){h=f.slice(0);h.splice(0,0,g);return e.apply(null,h)};function b(f){return Object.prototype.toString.call(f).slice(8,-1).toLowerCase()}function c(g,h){for(var f=[];h>0;f[--h]=g){}return f.join("")}a.sprintf=e;a.vsprintf=d})(typeof exports!="undefined"?exports:window);