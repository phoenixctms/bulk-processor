var datePickerDefaults=$.extend(true,{},$.datepicker.regional[context.lang]);datePickerDefaults.dateFormat=context.dateFormat.replace("yyyy","yy").replace("MM","mm");datePickerDefaults.changeMonth=true;datePickerDefaults.changeYear=true;$.datepicker.setDefaults(datePickerDefaults);var timePickerDefaults=$.extend(true,{},$.fgtimepicker.regional[context.lang]);timePickerDefaults.timeSeparator=":";timePickerDefaults.showPeriodLabels=false;$.fgtimepicker.setDefaults(timePickerDefaults);var INPUT_DATE_PATTERN=context.dateFormat;var INPUT_TIME_PATTERN="HH"+timePickerDefaults.timeSeparator+"mm";var INPUT_DATETIME_PATTERN=INPUT_DATE_PATTERN+" "+INPUT_TIME_PATTERN;var INPUT_DECIMAL_SEPARATOR=context.decimalSeparator;var INPUT_TIMEZONE_ID=context.inputTimezone;var SYSTEM_TIMEZONE_ID=context.systemTimezone;var waitDialogShown=false;function showWaitDlg(){if(!waitDialogShown){$("#wait_dlg").puidialog("show");waitDialogShown=true}}function hideWaitDlg(){if(waitDialogShown){$("#wait_dlg").puidialog("hide");waitDialogShown=false}}var sessionMaxInactiveInterval=null;function createSessionTimer(b){if(b!=null&&b>0){sessionMaxInactiveInterval=+b;var a=(new Date());a.setSeconds(a.getSeconds()+sessionMaxInactiveInterval);jQuery("#session_timer").countdown(a,{elapse:false,precision:1000,}).on("update.countdown",function(c){jQuery(this).html(c.strftime(SESSION_TIMER_PATTERN))}).on("finish.countdown",function(c){self.location=context.uriBase})}else{sessionMaxInactiveInterval=null}}function resetSessionTimers(){if(sessionMaxInactiveInterval!=null){var a=(new Date());a.setSeconds(a.getSeconds()+sessionMaxInactiveInterval);jQuery("#session_timer").countdown(a)}}$.ajaxSettings=$.extend(true,{},$.ajaxSettings);$.ajaxSettings.crossDomain=false;$.ajaxSettings.type="POST";$.ajaxSettings.async=true;$.ajaxSettings.dataType="json";$.ajaxSettings.timeout=60000;$.ajaxSettings.global=false;$.ajaxSettings.cache=false;$.ajaxSettings.error=function(a,c,b){if(404==a.status){if(a.responseJSON.msgs!=null){setMessages("warn",a.responseJSON.msgs)}else{setMessages("error",{summary:c,detail:b})}if(a.responseJSON.forward!=null){self.location=a.responseJSON.forward}else{hideWaitDlg()}}else{setMessages("error",{summary:c,detail:b});hideWaitDlg()}};$.ajaxSettings.beforeSend=function(b,a){showWaitDlg()};$.ajaxSettings.complete=function(a,b){resetSessionTimers()};var autoCompleteAjaxSettings=$.extend(true,{},$.ajaxSettings);autoCompleteAjaxSettings.crossDomain=false;autoCompleteAjaxSettings.timeout=15000;autoCompleteAjaxSettings.type="POST";autoCompleteAjaxSettings.async=true;autoCompleteAjaxSettings.dataType="json";autoCompleteAjaxSettings.cache=true;autoCompleteAjaxSettings.global=false;autoCompleteAjaxSettings.error=null;autoCompleteAjaxSettings.beforeSend=function(b,a){};autoCompleteAjaxSettings.complete=function(a,b){resetSessionTimers()};var restApiAjaxSettings=$.extend(true,{},$.ajaxSettings);restApiAjaxSettings.crossDomain=true;restApiAjaxSettings.timeout=15000;restApiAjaxSettings.type="GET";restApiAjaxSettings.async=true;restApiAjaxSettings.dataType="json";restApiAjaxSettings.cache=false;restApiAjaxSettings.global=false;restApiAjaxSettings.error=null;restApiAjaxSettings.beforeSend=function(b,a){};restApiAjaxSettings.complete=null;function getTitleAutoCompleteConfig(){return{effect:"fade",effectSpeed:"fast",completeSource:function(b,a){$.ajax($.extend(true,autoCompleteAjaxSettings,{url:context.uriBase+"/autocomplete/title",data:{title:b.query},context:this,success:function(c){a.call(this,c)}}))}}}function getCountryNameAutoCompleteConfig(){return{effect:"fade",effectSpeed:"fast",completeSource:function(b,a){$.ajax($.extend(true,autoCompleteAjaxSettings,{url:context.uriBase+"/autocomplete/country",data:{country_name:b.query},context:this,success:function(c){a.call(this,c)}}))}}}function getCityNameAutoCompleteConfig(b,a){return{effect:"fade",effectSpeed:"fast",completeSource:function(d,c){$.ajax($.extend(true,autoCompleteAjaxSettings,{url:context.uriBase+"/autocomplete/city",data:{city_name:d.query,country_name:$("#"+b).val(),zip_code:$("#"+a).val()},context:this,success:function(e){c.call(this,e)}}))}}}function getZipCodeAutoCompleteConfig(a,b){return{effect:"fade",effectSpeed:"fast",completeSource:function(d,c){$.ajax($.extend(true,autoCompleteAjaxSettings,{url:context.uriBase+"/autocomplete/zip",data:{zip_code:d.query,country_name:$("#"+a).val(),city_name:$("#"+b).val()},context:this,success:function(e){c.call(this,e)}}))}}}function getStreetNameAutoCompleteConfig(a,b){return{effect:"fade",effectSpeed:"fast",completeSource:function(d,c){$.ajax($.extend(true,autoCompleteAjaxSettings,{url:context.uriBase+"/autocomplete/street",data:{street_name:d.query,country_name:$("#"+a).val(),city_name:$("#"+b).val()},context:this,success:function(e){c.call(this,e)}}))},delay:600}}function getFieldValueAutoCompleteConfig(a){return{effect:"fade",effectSpeed:"fast",forceSelection:a.strict,dropdown:a.strict,completeSource:function(c,b){$.ajax($.extend(true,autoCompleteAjaxSettings,{url:context.uriBase+"/autocomplete/fieldvalue",data:{value:c.query,id:a.id},context:this,success:function(d){b.call(this,d)}}))}}}function getUrlPath(){return[location.protocol,"//",location.host,location.pathname].join("")}function dateIsoToUi(a){if(a!=null&&a.length>0){var b=a.split(" ",2)[0].split("-",3);return zeroFill(b[2],2)+"."+zeroFill(b[1],2)+"."+zeroFill(b[0],4)}else{return""}}function dateUiToIso(b){if(b!=null&&b.length>0){var a=isoDate.split(".",3);return zeroFill(a[2],4)+"-"+zeroFill(a[1],2)+"-"+zeroFill(a[0],2)}else{return null}}function timeIsoToUi(a){if(a!=null&&a.length>0){var b=a.split(" ",2)[1].split(":",3);return zeroFill(b[0],2)+":"+zeroFill(b[1],2)}else{return""}}function timeUiToIso(a){if(a!=null&&a.length>0){var b=a.split(":",2);return"1970-01-01 "+zeroFill(b[0],2)+":"+zeroFill(date[1],2)+":00"}else{return null}}function datetimeIsoToUi(b){if(b!=null&&b.length>0){var d=isoTime.split(" ",2);var a=d[0].split("-",3);var c=d[1].split(":",3);return[zeroFill(a[2],2)+"."+zeroFill(a[1],2)+"."+zeroFill(a[0],4),zeroFill(c[0],2)+":"+zeroFill(c[1],2)]}else{return["",""]}}function datetimeUiToIso(d,b){if(d!=null&&d.length>0&&b!=null&&b.length>0){var e=uiDatetime.split(" ",2);var a=d.split(".",3);var c=b.split(":",2);return zeroFill(a[2],4)+"-"+zeroFill(a[1],2)+"-"+zeroFill(a[0],2)+" "+zeroFill(c[0],2)+":"+zeroFill(a[1],2)+":00"}else{return null}}function zeroFill(b,e){var a;var d;if(b==null||(b+"").length==0){a="";d=e}else{a=b+"";d=e-(b+"").length}for(var c=0;c<d;c++){a="0"+a}return a}function initMainPrimeUI(a){if(a.enableSessionTimer){$("#session_timer_icon").show();createSessionTimer(a.sessionTimeout)}else{$("#session_timer_icon").hide()}$("#navigation").puibreadcrumb();$("#lang").puimenubar();$("#wait_dlg").puidialog({draggable:false,resizable:false,width:"auto",modal:true,closeOnEscape:false,closable:false,minimizable:false,maximizable:false})}function setMessages(b,e){$('div[id$="message"]').puimessages("clear");$("#messages").puimessages("clear");if($.isArray(e)){var d=[];for(var c=0;c<e.length;c++){if("messageId" in e[c]){var a=e[c].messageId+"_message";if($("#"+a).length>0){$("#"+a).puimessages("show",b,e[c])}else{d.push(e[c])}}else{d.push(e[c])}}if(d.length>0){$("#messages").puimessages("show",b,d)}}else{if(e!=null){$("#messages").puimessages("show",b,e)}}}function createIframe(f,e){var d=$('<iframe id="'+f+'" frameborder="0" style="width: 100%; height: 100%;" />');var c=$("<html/>").appendTo(d);var b=$("<head/>").appendTo(c);var a=$("<body />").appendTo(c);d.load(function(h){var g=$("#"+f).contents().find("body");g.html(e);g.css({margin:"4px",font:"10pt/1.1 Arial,sans-serif",cursor:"text"})});return d}function initIframe(b,a){};