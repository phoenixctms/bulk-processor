var CommentStripper=(function(d){var b="/";var i="\\";var c="*";var f='"';var g="'";var h="\n";var a="\r";var e=function(){};e.prototype={string:"",length:0,position:0,output:null,getCurrentCharacter:function(){return this.string.charAt(this.position)},getPreviousCharacter:function(){return this.string.charAt(this.position-1)},getNextCharacter:function(){return this.string.charAt(this.position+1)},add:function(){this.output.push(this.getCurrentCharacter())},next:function(){this.position++},atEnd:function(){return this.position>=this.length},isEscaping:function(){if(this.getPreviousCharacter()==i){var k=this.position-1;var j=false;while(k>0){if(this.string.charAt(k--)!=i){return j}j=!j}return j}return false},processSingleQuotedString:function(){if(this.getCurrentCharacter()==g){this.add();this.next();while(!this.atEnd()){if(this.getCurrentCharacter()==g&&!this.isEscaping()){return}this.add();this.next()}}},processDoubleQuotedString:function(){if(this.getCurrentCharacter()==f){this.add();this.next();while(!this.atEnd()){if(this.getCurrentCharacter()==f&&!this.isEscaping()){return}this.add();this.next()}}},processSingleLineComment:function(){if(this.getCurrentCharacter()==b){if(this.getNextCharacter()==b){this.next();while(!this.atEnd()){this.next();if(this.getCurrentCharacter()==h||this.getCurrentCharacter()==a){return}}}}},processMultiLineComment:function(){if(this.getCurrentCharacter()==b){if(this.getNextCharacter()==c){while(!this.atEnd()){this.next();if(this.getCurrentCharacter()==c){if(this.getNextCharacter()==b){this.next();this.next();return}}}}}},process:function(){while(!this.atEnd()){this.processDoubleQuotedString();this.processSingleQuotedString();this.processSingleLineComment();this.processMultiLineComment();if(!this.atEnd()){this.add();this.next()}}},reset:function(){this.string="";this.length=0;this.position=0;this.output=[]},strip:function(j){this.reset();if(j!=null&&j.length>0){this.string=j;this.length=this.string.length;this.process();return jQuery.trim(this.output.join(""))}else{return j}}};if(typeof define==="function"){define("commentstripper",[],function(){return e})}return d.CommentStripper=e})(window);